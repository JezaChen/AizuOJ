# 关于思考题5-2
> （查找一个无序数组） 本题将分析三个算法，它们在一个包含n个元素的无序数组A中查找一个值x。

## 考虑如下的随机策略：随机挑选A中的一个下标i,如果A[i]=x,则终止，否则，继续挑选A一个新的随机下标，重复随机挑选下标，直到找到一个下标j，使A[j]=x,或者直到我们已经检查过A中的每一个元素，注意，我们每次都是从全部下标的集合中挑选，于是可能不止一次地检查某个元素。

> 请写出过程RANDOM-SEARCH的伪代码来实现上述策略，确保党A中所有下标都被挑选过时，你的算法应该停止。

省略

> 假定恰好有一个下标i使得A[i]=x.在我们找到x和RANDOM-SEARCH结束之前，必须挑选A下标的数目期望是多少？

其实就是求几何分布的期望问题。成功找到目标的概率是1/n，根据几何分布的期望公式E[X] = 1/p 易得其数目期望是n。

> 假设又κ≥ 1个下标i使得A[i]=x，推广你对b部分的解答，在我们找到x和RANDOM-SEARCH结束之前，必须挑选A下标的数目期望是多少？你的答案应该是n和k的函数。

同理使用几何分布的期望公式易得其数目期望是 n/k 。

> 假设没有下标i使得A[i]=x。在检查完A的所有元素和RANDOM-SEARCH结束之前，我们必须挑选A的下标的数目期望是多少？

该问题可以转化为球与箱子问题。把该数组的所有元素都当成一个箱子，在这个基础上再增加目标箱子（实际上不会有“小球”投进这个箱子）。
根据算法导论75页的公式可得E[n] = b( lnb + O(1) )。所以，在我们期望每个箱子都有一个球之前，大约要投nlgn次。故这个问题迎刃而解。

## 现在考虑一个确定性的线性查找算法，我们称之为DETERMINISTIC-SEARCH.具体的说，这个算法在A中顺序查找x,考虑A[1],A[2],A[3]...A[n]，直到找到A[i]=x，或者到达数组的某位。假设输入数组的所有排列都是等可能的。

> 假设恰好有一个下标i使得A[i]=x。DETERMINISTIC-SEARCH平均运行时间是多少？DETERMINISTIC-SEARCH最坏情况运行时间是多少？

平均时间E=∑k/n=(1+2+..+n)/n=(n+1)/2.最坏情况是这个待查找的元素正好是最后一个元素，所以需要查找次数为n.

> 假设又κ≥ 1个下标i使得A[i]=x，推广你对e部分的解答，DETERMINISTIC-SEARCH平均情形的运行时间是多少？最坏运行时间又是多少？ 用n与k的函数表达。

> 注意这个其实是符合伯努利几何分布的，与上一个问题不同，这个需要保证当找到下标为i、命中目标的元素时，前（i-1）个元素都不能是目标，因此它是符合几何分布的要求。

成功找到元素的概率p=k/n，查找失败的概率q=1-p,平均查找次数符合伯努利的几何分布,E=∑kp(1-p)^(k-1)=1/p=n/k.

> 假设没有下标i使得A[i]=x。DETERMINISTIC-SEARCH平均运行时间是多少？DETERMINISTIC-SEARCH最坏情况运行时间是多少？
  
不管是平均还是最坏查找次数都是n.
  
## 最后，考虑一个随机算法SCRAMBLE-SEARCH，它先将输入数组随机变换数列，然后再排列变换后的数组上，运行上面的确定性查找算法。

>设k是满足A[i]=x的下标的数目。，请给出在k=0和k=1情况下，算法SCRAMBLE-SEARCH最坏情形的运行时间和运行时间期望。推广你的解答以处理
k>=1的情况。


这个无非是将第一种随机算法加上了一层随机性。对于生成的随机数列再次随机，那么依然是随机数列。所以k=0,1>=1的情况和上面的随机算法一致。

>你将会使用3种查找算法中的哪一个？解释你的答案。

线性查找算法。。这个算法比随机算法花费更少的运行时间。
